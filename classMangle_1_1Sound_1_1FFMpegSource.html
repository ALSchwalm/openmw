<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OpenMW: Mangle::Sound::FFMpegSource Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespaceMangle.html">Mangle</a>::<a class="el" href="namespaceMangle_1_1Sound.html">Sound</a>::<a class="el" href="classMangle_1_1Sound_1_1FFMpegSource.html">FFMpegSource</a>
  </div>
</div>
<div class="contents">
<h1>Mangle::Sound::FFMpegSource Class Reference</h1><!-- doxytag: class="Mangle::Sound::FFMpegSource" --><!-- doxytag: inherits="Mangle::Sound::SampleSource" -->
<p><code>#include &lt;<a class="el" href="ffmpeg__source_8hpp_source.html">ffmpeg_source.hpp</a>&gt;</code></p>

<p><a href="classMangle_1_1Sound_1_1FFMpegSource-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMangle_1_1Sound_1_1FFMpegSource.html#ac144aa19f4e26dc416dbb171e99dbf7e">FFMpegSource</a> (const std::string &amp;file)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Decode the given sound file.  <a href="#ac144aa19f4e26dc416dbb171e99dbf7e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMangle_1_1Sound_1_1FFMpegSource.html#ab2101c5adba1c7a3cd4e2facd40041e2">FFMpegSource</a> (<a class="el" href="namespaceMangle_1_1Stream.html#a47486d5829634d5fd2b654ed5fd52528">Mangle::Stream::StreamPtr</a> src)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Decode the given sound stream (not supported by FFmpeg).  <a href="#ab2101c5adba1c7a3cd4e2facd40041e2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMangle_1_1Sound_1_1FFMpegSource.html#a270407ac50ef83d360d8b068c9bd9fa1">~FFMpegSource</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMangle_1_1Sound_1_1FFMpegSource.html#aac25e54c0f6e08667e516029bdacbea4">getInfo</a> (<a class="el" href="namespaceMangle_1_1Sound.html#ad34e9cb80e40e2e1297c505f6279b73e">int32_t</a> *rate, <a class="el" href="namespaceMangle_1_1Sound.html#ad34e9cb80e40e2e1297c505f6279b73e">int32_t</a> *channels, <a class="el" href="namespaceMangle_1_1Sound.html#ad34e9cb80e40e2e1297c505f6279b73e">int32_t</a> *bits)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMangle_1_1Sound_1_1FFMpegSource.html#a616c50744eea4fcd1cf6d46c019e0c33">read</a> (void *data, size_t length)</td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">AVFormatContext *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMangle_1_1Sound_1_1FFMpegSource.html#ab2db1e64d8ffd3078b4dd694438319df">FmtCtx</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">AVCodecContext *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMangle_1_1Sound_1_1FFMpegSource.html#abc6f0620f36e36fc791efd5940fa0895">CodecCtx</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMangle_1_1Sound_1_1FFMpegSource.html#a603401b81ac8b8fc665a5c764991a7ee">StreamNum</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; uint8_t &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMangle_1_1Sound_1_1FFMpegSource.html#aa00504ef54da675b22b50bf4b3c97ba6">storage</a></td></tr>
</table>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ac144aa19f4e26dc416dbb171e99dbf7e"></a><!-- doxytag: member="Mangle::Sound::FFMpegSource::FFMpegSource" ref="ac144aa19f4e26dc416dbb171e99dbf7e" args="(const std::string &amp;file)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FFMpegSource::FFMpegSource </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>file</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Decode the given sound file. </p>

</div>
</div>
<a class="anchor" id="ab2101c5adba1c7a3cd4e2facd40041e2"></a><!-- doxytag: member="Mangle::Sound::FFMpegSource::FFMpegSource" ref="ab2101c5adba1c7a3cd4e2facd40041e2" args="(Mangle::Stream::StreamPtr src)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Mangle::Sound::FFMpegSource::FFMpegSource </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceMangle_1_1Stream.html#a47486d5829634d5fd2b654ed5fd52528">Mangle::Stream::StreamPtr</a>&nbsp;</td>
          <td class="paramname"> <em>src</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Decode the given sound stream (not supported by FFmpeg). </p>

</div>
</div>
<a class="anchor" id="a270407ac50ef83d360d8b068c9bd9fa1"></a><!-- doxytag: member="Mangle::Sound::FFMpegSource::~FFMpegSource" ref="a270407ac50ef83d360d8b068c9bd9fa1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FFMpegSource::~FFMpegSource </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aac25e54c0f6e08667e516029bdacbea4"></a><!-- doxytag: member="Mangle::Sound::FFMpegSource::getInfo" ref="aac25e54c0f6e08667e516029bdacbea4" args="(int32_t *rate, int32_t *channels, int32_t *bits)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FFMpegSource::getInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceMangle_1_1Sound.html#ad34e9cb80e40e2e1297c505f6279b73e">int32_t</a> *&nbsp;</td>
          <td class="paramname"> <em>rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceMangle_1_1Sound.html#ad34e9cb80e40e2e1297c505f6279b73e">int32_t</a> *&nbsp;</td>
          <td class="paramname"> <em>channels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceMangle_1_1Sound.html#ad34e9cb80e40e2e1297c505f6279b73e">int32_t</a> *&nbsp;</td>
          <td class="paramname"> <em>bits</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the sample rate, number of channels, and bits per sample. NULL parameters are ignored. </p>

<p>Implements <a class="el" href="classMangle_1_1Sound_1_1SampleSource.html#a39d5d214361e76348cea661410ac3d50">Mangle::Sound::SampleSource</a>.</p>

</div>
</div>
<a class="anchor" id="a616c50744eea4fcd1cf6d46c019e0c33"></a><!-- doxytag: member="Mangle::Sound::FFMpegSource::read" ref="a616c50744eea4fcd1cf6d46c019e0c33" args="(void *data, size_t length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t FFMpegSource::read </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>count</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Read a given number of bytes from the stream. Returns the actual number read. If the return value is less than count, then the stream is empty or an error occured. Only required for readable streams. </p>

<p>Reimplemented from <a class="el" href="classMangle_1_1Stream_1_1Stream.html#ae97406b74d70c46634d5ddcd834b3822">Mangle::Stream::Stream</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="abc6f0620f36e36fc791efd5940fa0895"></a><!-- doxytag: member="Mangle::Sound::FFMpegSource::CodecCtx" ref="abc6f0620f36e36fc791efd5940fa0895" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AVCodecContext* <a class="el" href="classMangle_1_1Sound_1_1FFMpegSource.html#abc6f0620f36e36fc791efd5940fa0895">Mangle::Sound::FFMpegSource::CodecCtx</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ab2db1e64d8ffd3078b4dd694438319df"></a><!-- doxytag: member="Mangle::Sound::FFMpegSource::FmtCtx" ref="ab2db1e64d8ffd3078b4dd694438319df" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AVFormatContext* <a class="el" href="classMangle_1_1Sound_1_1FFMpegSource.html#ab2db1e64d8ffd3078b4dd694438319df">Mangle::Sound::FFMpegSource::FmtCtx</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa00504ef54da675b22b50bf4b3c97ba6"></a><!-- doxytag: member="Mangle::Sound::FFMpegSource::storage" ref="aa00504ef54da675b22b50bf4b3c97ba6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;uint8_t&gt; <a class="el" href="classMangle_1_1Sound_1_1FFMpegSource.html#aa00504ef54da675b22b50bf4b3c97ba6">Mangle::Sound::FFMpegSource::storage</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a603401b81ac8b8fc665a5c764991a7ee"></a><!-- doxytag: member="Mangle::Sound::FFMpegSource::StreamNum" ref="a603401b81ac8b8fc665a5c764991a7ee" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="classMangle_1_1Sound_1_1FFMpegSource.html#a603401b81ac8b8fc665a5c764991a7ee">Mangle::Sound::FFMpegSource::StreamNum</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>libs/mangle/sound/sources/<a class="el" href="ffmpeg__source_8hpp_source.html">ffmpeg_source.hpp</a></li>
<li>libs/mangle/sound/sources/<a class="el" href="ffmpeg__source_8cpp.html">ffmpeg_source.cpp</a></li>
</ul>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Sun Jul 31 20:24:39 2011 for OpenMW by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
