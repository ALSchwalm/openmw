<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OpenMW: Mangle::Stream::MemoryStream Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespaceMangle.html">Mangle</a>::<a class="el" href="namespaceMangle_1_1Stream.html">Stream</a>::<a class="el" href="classMangle_1_1Stream_1_1MemoryStream.html">MemoryStream</a>
  </div>
</div>
<div class="contents">
<h1>Mangle::Stream::MemoryStream Class Reference</h1><!-- doxytag: class="Mangle::Stream::MemoryStream" --><!-- doxytag: inherits="Mangle::Stream::Stream" -->
<p><code>#include &lt;<a class="el" href="memory__stream_8hpp_source.html">memory_stream.hpp</a>&gt;</code></p>

<p><a href="classMangle_1_1Stream_1_1MemoryStream-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMangle_1_1Stream_1_1MemoryStream.html#a0ef431248bbeb868709a91759c55dad5">MemoryStream</a> (const void *ptr, size_t len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMangle_1_1Stream_1_1MemoryStream.html#aa756bd4815c566efac40c1e19d2b9417">MemoryStream</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMangle_1_1Stream_1_1MemoryStream.html#ace85bac549c57979d810ea874c1123f3">read</a> (void *buf, size_t count)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMangle_1_1Stream_1_1MemoryStream.html#a433a2cd892db7a760611bb78900804da">seek</a> (size_t _pos)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMangle_1_1Stream_1_1MemoryStream.html#a9321897961198211c3770f9c7eef1c10">tell</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMangle_1_1Stream_1_1MemoryStream.html#ad7667cbef6b98794ab9214d4bf9c6f6c">size</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMangle_1_1Stream_1_1MemoryStream.html#a31320b64e78010a1e4a4857f7d341dc5">eof</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMangle_1_1Stream_1_1MemoryStream.html#a64d7b057ad230056e60870f17a57f835">getPtr</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMangle_1_1Stream_1_1MemoryStream.html#a27cc459c7f902d62ba3cf496167496f8">getPtr</a> (size_t size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMangle_1_1Stream_1_1MemoryStream.html#aad81ceaff8c864cfd62ae8daac4db24b">getPtr</a> (size_t <a class="el" href="classMangle_1_1Stream_1_1MemoryStream.html#ad47f265bdd7363c6dd1daadea69b6eaf">pos</a>, size_t size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMangle_1_1Stream_1_1MemoryStream.html#a5b413fae75460a60c718e69f2b75809e">set</a> (const void *_data, size_t _length)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set a new buffer and length. This will rewind the position to zero.  <a href="#a5b413fae75460a60c718e69f2b75809e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceMangle_1_1Stream.html#aaa7a1218d85f41e9a9189c02b046b835">MemoryStreamPtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMangle_1_1Stream_1_1MemoryStream.html#aebb46918dba356d210467625f36d47fb">clone</a> (bool setPos=false) const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clone this memory stream.  <a href="#aebb46918dba356d210467625f36d47fb"></a><br/></td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMangle_1_1Stream_1_1MemoryStream.html#a91bc4fdd1befcf4a7a2c2f95bed46744">data</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMangle_1_1Stream_1_1MemoryStream.html#ab45080aa21e84d36c5b9223b606ee171">length</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMangle_1_1Stream_1_1MemoryStream.html#ad47f265bdd7363c6dd1daadea69b6eaf">pos</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>A <a class="el" href="classMangle_1_1Stream_1_1Stream.html" title="An abstract interface for a stream data.">Stream</a> wrapping a memory buffer</p>
<p>This will create a fully seekable stream out of any pointer/length pair you give it. </p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a0ef431248bbeb868709a91759c55dad5"></a><!-- doxytag: member="Mangle::Stream::MemoryStream::MemoryStream" ref="a0ef431248bbeb868709a91759c55dad5" args="(const void *ptr, size_t len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Mangle::Stream::MemoryStream::MemoryStream </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa756bd4815c566efac40c1e19d2b9417"></a><!-- doxytag: member="Mangle::Stream::MemoryStream::MemoryStream" ref="aa756bd4815c566efac40c1e19d2b9417" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Mangle::Stream::MemoryStream::MemoryStream </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aebb46918dba356d210467625f36d47fb"></a><!-- doxytag: member="Mangle::Stream::MemoryStream::clone" ref="aebb46918dba356d210467625f36d47fb" args="(bool setPos=false) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceMangle_1_1Stream.html#aaa7a1218d85f41e9a9189c02b046b835">MemoryStreamPtr</a> Mangle::Stream::MemoryStream::clone </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>setPos</em> = <code>false</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Clone this memory stream. </p>
<p>Make a new stream of the same buffer. If setPos is true, we also set the clone's position to be the same as ours.</p>
<p>No memory is copied during this operation, the new stream is just another 'view' into the same shared memory buffer. </p>

</div>
</div>
<a class="anchor" id="a31320b64e78010a1e4a4857f7d341dc5"></a><!-- doxytag: member="Mangle::Stream::MemoryStream::eof" ref="a31320b64e78010a1e4a4857f7d341dc5" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Mangle::Stream::MemoryStream::eof </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns true if the stream is empty. Required for readable streams. </p>

<p>Reimplemented from <a class="el" href="classMangle_1_1Stream_1_1Stream.html#a0480d9e511882a6623b1ff11efae7235">Mangle::Stream::Stream</a>.</p>

</div>
</div>
<a class="anchor" id="aad81ceaff8c864cfd62ae8daac4db24b"></a><!-- doxytag: member="Mangle::Stream::MemoryStream::getPtr" ref="aad81ceaff8c864cfd62ae8daac4db24b" args="(size_t pos, size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const void* Mangle::Stream::MemoryStream::getPtr </td>
          <td>(</td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get a pointer to a memory region of 'size' bytes starting from position 'pos' </p>

<p>Reimplemented from <a class="el" href="classMangle_1_1Stream_1_1Stream.html#ab6e809616db00fcf61eea6dabeb806d4">Mangle::Stream::Stream</a>.</p>

</div>
</div>
<a class="anchor" id="a27cc459c7f902d62ba3cf496167496f8"></a><!-- doxytag: member="Mangle::Stream::MemoryStream::getPtr" ref="a27cc459c7f902d62ba3cf496167496f8" args="(size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const void* Mangle::Stream::MemoryStream::getPtr </td>
          <td>(</td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get a pointer to a memory region of 'size' bytes from the current position. Unlike the two other getPtr variants, this will advance the position past the returned area. </p>

<p>Reimplemented from <a class="el" href="classMangle_1_1Stream_1_1Stream.html#a72a33d76f52f729a093ba54cf6b06f82">Mangle::Stream::Stream</a>.</p>

</div>
</div>
<a class="anchor" id="a64d7b057ad230056e60870f17a57f835"></a><!-- doxytag: member="Mangle::Stream::MemoryStream::getPtr" ref="a64d7b057ad230056e60870f17a57f835" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const void* Mangle::Stream::MemoryStream::getPtr </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return a pointer to the entire stream. This function (and the other <a class="el" href="classMangle_1_1Stream_1_1MemoryStream.html#a64d7b057ad230056e60870f17a57f835">getPtr()</a> variants below) should only be implemented for memory-based streams where using them would be an optimization. </p>

<p>Reimplemented from <a class="el" href="classMangle_1_1Stream_1_1Stream.html#ab7c82abb7e36eb7146bb0b8980b67d30">Mangle::Stream::Stream</a>.</p>

</div>
</div>
<a class="anchor" id="ace85bac549c57979d810ea874c1123f3"></a><!-- doxytag: member="Mangle::Stream::MemoryStream::read" ref="ace85bac549c57979d810ea874c1123f3" args="(void *buf, size_t count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t Mangle::Stream::MemoryStream::read </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>count</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Read a given number of bytes from the stream. Returns the actual number read. If the return value is less than count, then the stream is empty or an error occured. Only required for readable streams. </p>

<p>Reimplemented from <a class="el" href="classMangle_1_1Stream_1_1Stream.html#ae97406b74d70c46634d5ddcd834b3822">Mangle::Stream::Stream</a>.</p>

</div>
</div>
<a class="anchor" id="a433a2cd892db7a760611bb78900804da"></a><!-- doxytag: member="Mangle::Stream::MemoryStream::seek" ref="a433a2cd892db7a760611bb78900804da" args="(size_t _pos)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Mangle::Stream::MemoryStream::seek </td>
          <td>(</td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>pos</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Seek to an absolute position in this stream. Not all streams are seekable. </p>

<p>Reimplemented from <a class="el" href="classMangle_1_1Stream_1_1Stream.html#a66f1be03d0883a13b86593ed1cff6d8e">Mangle::Stream::Stream</a>.</p>

</div>
</div>
<a class="anchor" id="a5b413fae75460a60c718e69f2b75809e"></a><!-- doxytag: member="Mangle::Stream::MemoryStream::set" ref="a5b413fae75460a60c718e69f2b75809e" args="(const void *_data, size_t _length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Mangle::Stream::MemoryStream::set </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>_length</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set a new buffer and length. This will rewind the position to zero. </p>

</div>
</div>
<a class="anchor" id="ad7667cbef6b98794ab9214d4bf9c6f6c"></a><!-- doxytag: member="Mangle::Stream::MemoryStream::size" ref="ad7667cbef6b98794ab9214d4bf9c6f6c" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t Mangle::Stream::MemoryStream::size </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return the total size of the stream. For streams hasSize is false, <a class="el" href="classMangle_1_1Stream_1_1MemoryStream.html#ad7667cbef6b98794ab9214d4bf9c6f6c">size()</a> should fail in some way, since it is an error to call it in those cases. </p>

<p>Reimplemented from <a class="el" href="classMangle_1_1Stream_1_1Stream.html#a4500b1d7684a8716fc25d8bfbd42c140">Mangle::Stream::Stream</a>.</p>

</div>
</div>
<a class="anchor" id="a9321897961198211c3770f9c7eef1c10"></a><!-- doxytag: member="Mangle::Stream::MemoryStream::tell" ref="a9321897961198211c3770f9c7eef1c10" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t Mangle::Stream::MemoryStream::tell </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the current position in the stream. Non-seekable streams are not required to keep track of this. </p>

<p>Reimplemented from <a class="el" href="classMangle_1_1Stream_1_1Stream.html#a9721878a458d524bc8628bef7ed390d9">Mangle::Stream::Stream</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a91bc4fdd1befcf4a7a2c2f95bed46744"></a><!-- doxytag: member="Mangle::Stream::MemoryStream::data" ref="a91bc4fdd1befcf4a7a2c2f95bed46744" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const void* <a class="el" href="classMangle_1_1Stream_1_1MemoryStream.html#a91bc4fdd1befcf4a7a2c2f95bed46744">Mangle::Stream::MemoryStream::data</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ab45080aa21e84d36c5b9223b606ee171"></a><!-- doxytag: member="Mangle::Stream::MemoryStream::length" ref="ab45080aa21e84d36c5b9223b606ee171" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classMangle_1_1Stream_1_1MemoryStream.html#ab45080aa21e84d36c5b9223b606ee171">Mangle::Stream::MemoryStream::length</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ad47f265bdd7363c6dd1daadea69b6eaf"></a><!-- doxytag: member="Mangle::Stream::MemoryStream::pos" ref="ad47f265bdd7363c6dd1daadea69b6eaf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classMangle_1_1Stream_1_1MemoryStream.html#ad47f265bdd7363c6dd1daadea69b6eaf">Mangle::Stream::MemoryStream::pos</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>libs/mangle/stream/servers/<a class="el" href="memory__stream_8hpp_source.html">memory_stream.hpp</a></li>
</ul>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Fri Mar 2 11:45:03 2012 for OpenMW by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
